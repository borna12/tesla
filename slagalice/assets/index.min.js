function broj(){$("#broj-puzzla").html($("#retci").val()*$("#stupci").val())}function promijeni_jezik(){null==localStorage.getItem("jezik")&&localStorage.setItem("jezik","hr"),"hr"==localStorage.getItem("jezik")?($(".hrvatski").css({opacity:"1"}),$(".engleski").css({opacity:"0.5"}),$(".hr").show(),$(".eng").hide()):(localStorage.setItem("jezik","eng"),$(".engleski").css({opacity:"1"}),$(".hrvatski").css({opacity:"0.5"}),$(".eng").show(),$(".hr").hide())}function stvori(){"Nikola Tesla â€“ Pop Art portret"==naslov&&(opis=""),"hr"==localStorage.getItem("jezik")?confirm_button="nova igra":confirm_button="new game",$("#replay").fadeIn("slow"),retci=$("#retci").val(),stupci=$("#stupci").val(),$(".modal").fadeOut("slow"),$(".footer").fadeOut("slow");if(window.innerWidth>=1040)var e=1920,o=1200;else e=1200,o=1600;var t=0,r=0,a=new Frame("fit",e,o);a.on("ready",function(){zog("ready from ZIM Frame");var e,o,n=a.stage,l=a.width;a.height;a.outerColor="#707070",a.color="#E9DDCF";var c=new Container,s=[],d=[];a.loadAssets([slika],"assets/");var u=new Label({text:"CLICK",size:60,font:"sans-serif",color:"#3228B0",rollColor:"#2c1c9a",fontOptions:"italic bold"}),h=new Label({text:"CLICK",size:40,font:"sans-serif",color:"#3228B0",rollColor:"#2c1c9a",fontOptions:"italic bold"});n.addChild(u),n.addChild(h),u.x=u.y=20,h.y=20,h.x=l-210,u.on("click",function(){zog("clicking")}),h.on("click",function(){location.reload()}),a.on("complete",function(){(s=a.asset(slika).clone()).addTo(c),s.alpha=.2;var l=new Array,g=retci,p=stupci,m=getQueryString();zog(m),m&&(g=m.row,p=m.column);var f=s.width,v=s.height,w=Math.round(f/g),T=Math.round(v/p);for(r=g*p,e=a.width/2-f/2,o=a.height/2-v/2,s.pos(e,o),zog(e,o),u.text=t+"/"+r,h.text=confirm_button,j=0;j<p;j++)for(d[j]=[],i=0;i<g;i++){var k=j+i*p,z=w*i,b=T*j,y=Math.round(w/8),C=Math.round(T/8);d[j][i]=new Object,d[j][i].right=Math.floor(2*Math.random()),d[j][i].down=Math.floor(2*Math.random()),j>0&&(d[j][i].up=1-d[j-1][i].down),i>0&&(d[j][i].left=1-d[j][i-1].right),l[k]=new Rectangle({width:w,height:T});var x=d[j][i],S=new Shape,I=S.graphics;S.drag(),S.mouseChildren=!1,S.addEventListener("pressup",function(i){var a=i.currentTarget,l=Math.round(a.x),c=Math.round(a.y);l<e+20&&l>e-20&&c<e+20&&c>o-20&&(a.x=e,a.y=o,a.noDrag(),a.addTo(a.parent,0),a.mouseChildren=!1,a.mouseEnabled=!1,a.hint.visible=!1,t++,u.text=t+"/"+r,zog("countPieces",t),t==r&&(swal({html:'<h1 style="text-align:center">'+naslov+'</h1><img src="assets/'+slika+'" class="ikone2"/><br><br><p>'+opis+"</p>",confirmButtonText:confirm_button,allowOutsideClick:!1}),$(".swal2-confirm").click(function(){location.reload()})),$(".ikone2").lightzoom({glassSize:175,zoomPower:3}),n.update())}),I.setStrokeStyle(3,"round");I.beginStroke(createjs.Graphics.getRGB(0,0,0)).command,I.beginBitmapFill(s.image).command;I.moveTo(z,b),0!=j&&(I.lineTo(z+3*y,b),1==x.up?(I.curveTo(z+2*y,b-2*C,z+4*y,b-2*C),I.curveTo(z+6*y,b-2*C,z+5*y,b)):(I.curveTo(z+2*y,b+2*C,z+4*y,b+2*C),I.curveTo(z+6*y,b+2*C,z+5*y,b))),I.lineTo(z+8*y,b),i!=g-1&&(I.lineTo(z+8*y,b+3*C),1==x.right?(I.curveTo(z+10*y,b+2*C,z+10*y,b+4*C),I.curveTo(z+10*y,b+6*C,z+8*y,b+5*C)):(I.curveTo(z+6*y,b+2*C,z+6*y,b+4*C),I.curveTo(z+6*y,b+6*C,z+8*y,b+5*C))),I.lineTo(z+8*y,b+8*C),j!=p-1&&(I.lineTo(z+5*y,b+8*C),1==x.down?(I.curveTo(z+6*y,b+10*C,z+4*y,b+10*C),I.curveTo(z+2*y,b+10*C,z+3*y,b+8*C)):(I.curveTo(z+6*y,b+6*C,z+4*y,b+6*C),I.curveTo(z+2*y,b+6*C,z+3*y,b+8*C))),I.lineTo(z,b+8*C),0!=i&&(I.lineTo(z,b+5*C),1==x.left?(I.curveTo(z-2*y,b+6*C,z-2*y,b+4*C),I.curveTo(z-2*y,b+2*C,z,b+3*C)):(I.curveTo(z+2*y,b+6*C,z+2*y,b+4*C),I.curveTo(z+2*y,b+2*C,z,b+3*C))),I.lineTo(z,b),S.addTo(c);var M=new createjs.Graphics.Fill("red"),_=new Shape;_.mouseChildren=!1,_.mouseEnabled=!1,S.hint=_,_.graphics=I.clone(!0),_.pos(e,o),_.graphics._fill=M,_.graphics._fill.style=null,_.addTo(c,0),S.animate({obj:{x:rand(-z,a.width-z-w),y:rand(-b,a.height-b-T)},time:700})}c.addTo(n),n.update()}),n.update()})}var slika,naslov,retci,stupci,opis;$(document).ready(function(){$(".modal").fadeIn("slow"),$(".footer").fadeIn("slow"),$("#broj-puzzla").html(retci*stupci),broj(),$("select").css({"font-size":"18px","font-family":"sans-serif"}),promijeni_jezik()});