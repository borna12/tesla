function broj(){$("#broj-puzzla").html($("#retci").val()*$("#stupci").val())}function stvori(){confirm_button="nova igra",$("#replay").fadeIn("slow"),retci=$("#retci").val(),stupci=$("#stupci").val(),$(".modal").fadeOut("slow"),$(".footer").fadeOut("slow");if(window.innerWidth>=1040)var o=1920,e=1200;else o=1200,e=1600;var t=0,r=0,a=new Frame("fit",o,e);a.on("ready",function(){zog("ready from ZIM Frame");var o,e,n=a.stage,l=a.width;a.height;a.outerColor="#707070",a.color="#E9DDCF";var c=new Container,s=[],d=[];a.loadAssets([slika],"assets/");var u=new Label({text:"CLICK",size:60,font:"Helvetica Neue",color:"#680002",rollColor:"#990003",fontOptions:"italic bold"}),h=new Label({text:"CLICK",size:40,font:"Helvetica Neue",color:"#680002",rollColor:"#990003",fontOptions:"italic bold"});n.addChild(u),n.addChild(h),u.x=u.y=20,h.y=20,h.x=l-180,u.on("click",function(){zog("clicking")}),h.on("click",function(){location.reload()}),a.on("complete",function(){(s=a.asset(slika).clone()).addTo(c),s.alpha=.2;var l=new Array,v=retci,f=stupci,m=getQueryString();zog(m),m&&(v=m.row,f=m.column);var g=s.width,p=s.height,T=Math.round(g/v),w=Math.round(p/f);for(r=v*f,o=a.width/2-g/2,e=a.height/2-p/2,s.pos(o,e),zog(o,e),u.text=t+"/"+r,h.text=confirm_button,j=0;j<f;j++)for(d[j]=[],i=0;i<v;i++){var b=j+i*f,y=T*i,z=w*j,C=Math.round(T/8),k=Math.round(w/8);d[j][i]=new Object,d[j][i].right=Math.floor(2*Math.random()),d[j][i].down=Math.floor(2*Math.random()),j>0&&(d[j][i].up=1-d[j-1][i].down),i>0&&(d[j][i].left=1-d[j][i-1].right),l[b]=new Rectangle({width:T,height:w});var x=d[j][i],M=new Shape,S=M.graphics;M.drag(),M.mouseChildren=!1,M.addEventListener("pressup",function(i){var a=i.currentTarget,l=Math.round(a.x),c=Math.round(a.y);l<o+20&&l>o-20&&c<o+20&&c>e-20&&(a.x=o,a.y=e,a.noDrag(),a.addTo(a.parent,0),a.mouseChildren=!1,a.mouseEnabled=!1,a.hint.visible=!1,t++,u.text=t+"/"+r,zog("countPieces",t),t==r&&(swal({html:'<h1 style="text-align:center">'+naslov+'</h1><img src="assets/'+slika+'" class="ikone2"/><br><br>',confirmButtonText:confirm_button,allowOutsideClick:!1}),$(".swal2-confirm").click(function(){location.reload()})),$(".ikone2").lightzoom({glassSize:175,zoomPower:3}),n.update())}),S.setStrokeStyle(3,"round");S.beginStroke(createjs.Graphics.getRGB(0,0,0)).command,S.beginBitmapFill(s.image).command;S.moveTo(y,z),0!=j&&(S.lineTo(y+3*C,z),1==x.up?(S.curveTo(y+2*C,z-2*k,y+4*C,z-2*k),S.curveTo(y+6*C,z-2*k,y+5*C,z)):(S.curveTo(y+2*C,z+2*k,y+4*C,z+2*k),S.curveTo(y+6*C,z+2*k,y+5*C,z))),S.lineTo(y+8*C,z),i!=v-1&&(S.lineTo(y+8*C,z+3*k),1==x.right?(S.curveTo(y+10*C,z+2*k,y+10*C,z+4*k),S.curveTo(y+10*C,z+6*k,y+8*C,z+5*k)):(S.curveTo(y+6*C,z+2*k,y+6*C,z+4*k),S.curveTo(y+6*C,z+6*k,y+8*C,z+5*k))),S.lineTo(y+8*C,z+8*k),j!=f-1&&(S.lineTo(y+5*C,z+8*k),1==x.down?(S.curveTo(y+6*C,z+10*k,y+4*C,z+10*k),S.curveTo(y+2*C,z+10*k,y+3*C,z+8*k)):(S.curveTo(y+6*C,z+6*k,y+4*C,z+6*k),S.curveTo(y+2*C,z+6*k,y+3*C,z+8*k))),S.lineTo(y,z+8*k),0!=i&&(S.lineTo(y,z+5*k),1==x.left?(S.curveTo(y-2*C,z+6*k,y-2*C,z+4*k),S.curveTo(y-2*C,z+2*k,y,z+3*k)):(S.curveTo(y+2*C,z+6*k,y+2*C,z+4*k),S.curveTo(y+2*C,z+2*k,y,z+3*k))),S.lineTo(y,z),M.addTo(c);var I=new createjs.Graphics.Fill("red"),O=new Shape;O.mouseChildren=!1,O.mouseEnabled=!1,M.hint=O,O.graphics=S.clone(!0),O.pos(o,e),O.graphics._fill=I,O.graphics._fill.style=null,O.addTo(c,0),M.animate({obj:{x:rand(-y,a.width-y-T),y:rand(-z,a.height-z-w)},time:700})}c.addTo(n),n.update()}),n.update()})}var slika,naslov,retci,stupci,opis;$(document).ready(function(){$(".modal").fadeIn("slow"),$(".footer").fadeIn("slow"),$("#broj-puzzla").html(retci*stupci),broj(),$("select").css({"font-size":"18px","font-family":"Georgia"})});